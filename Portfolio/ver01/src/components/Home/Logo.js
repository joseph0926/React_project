import React, {useRef, useEffect} from "react";
import styles from "./Logo.module.css";
import gsap from "gsap-trial"

import K_Logo from "../../assets/k_logo.png";
import DrawSVGPlugin from "gsap-trial/DrawSVGPlugin";

const Logo = () => {

  const bgRef = useRef();
  const outlineLogoRef = useRef();
  const solidLogoRef = useRef();

  useEffect(() => {
    gsap.registerPlugin(DrawSVGPlugin);

    gsap.timeline()
    .to(bgRef.current, {
      duration: 1,
      opacity: 1,
    })
    .from(outlineLogoRef.current, {
      drawSVG: 0,
      duration: 20
    })

    gsap.fromTo(
      solidLogoRef.current, {
        opacity: 0
      },
      {
        opacity: 1,
        delay: 4,
        duration: 4
      }
    )
  }, [])

  return (
    <div className={styles["logo-container"]} ref={bgRef}>
      <img ref={solidLogoRef} className={styles["solid-logo"]} src={K_Logo} alt="5"></img>
      <svg width="559px" height="897px" version="1.0" viewBox="0 0 559 897" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(0 457) scale(.1 -.08)" fill="none" className={styles["svg-container"]}>
          <path
            ref={outlineLogoRef}
            d="M 998.047 0 L 998.047 3527.344 L 2016.602 2549.805 Q 2071.289 2495.117 2115.723 2426.758 A 297.441 297.441 0 0 0 2146.097 2366.943 A 222.64 222.64 0 0 0 2160.156 2290.039 A 120.883 120.883 0 0 0 2126.787 2206.607 A 184.585 184.585 0 0 0 2102.051 2184.082 Q 2049.308 2143.749 1937.424 2140.027 A 702.904 702.904 0 0 0 1914.063 2139.648 L 1708.984 2139.648 L 1708.984 1879.883 L 3178.711 1879.883 L 3178.711 2139.648 L 3069.336 2139.648 A 584.554 584.554 0 0 0 2932.566 2154.842 A 421.943 421.943 0 0 0 2765.137 2235.352 Q 2645.508 2331.055 2529.297 2447.266 L 1852.539 3096.68 L 2761.719 4422.852 A 7600.257 7600.257 0 0 0 2818.97 4507.446 A 9305.31 9305.31 0 0 0 2881.348 4597.168 A 2302.68 2302.68 0 0 0 2962.524 4705.849 A 1901.23 1901.23 0 0 0 3011.23 4764.648 A 749.814 749.814 0 0 0 3086.452 4840.591 A 606.553 606.553 0 0 0 3147.949 4887.695 A 323.778 323.778 0 0 0 3203.504 4917.778 Q 3240.393 4933.048 3276.345 4935.195 A 196.878 196.878 0 0 0 3288.086 4935.547 L 3458.984 4935.547 L 3458.984 5195.313 L 1989.258 5195.313 L 1989.258 4935.547 L 2132.813 4935.547 A 753.258 753.258 0 0 0 2184.683 4933.878 Q 2235.721 4930.343 2270.291 4919.324 A 212.389 212.389 0 0 0 2272.949 4918.457 A 68.7 68.7 0 0 0 2319.086 4871.134 Q 2324.219 4854.637 2324.219 4833.008 A 112.973 112.973 0 0 0 2309.347 4777.623 A 156.375 156.375 0 0 0 2293.457 4754.395 A 573.755 573.755 0 0 1 2276.154 4731.964 Q 2247.392 4692.976 2201.421 4621.481 A 4627.857 4627.857 0 0 1 2201.172 4621.094 L 1415.039 3479.492 L 998.047 3916.992 L 998.047 4552.734 A 820.297 820.297 0 0 0 1004.257 4657.815 Q 1019.041 4771.806 1069.019 4833.005 A 189.931 189.931 0 0 0 1100.586 4863.77 A 375.634 375.634 0 0 0 1236.771 4931.328 A 359.649 359.649 0 0 0 1326.172 4942.383 L 1449.219 4942.383 L 1449.219 5195.313 L 6.836 5195.313 L 6.836 4935.547 L 82.031 4935.547 A 372.052 372.052 0 0 0 314.453 4856.934 A 218.552 218.552 0 0 0 379.886 4770.956 Q 412.987 4697.345 416.56 4581.409 A 931.184 931.184 0 0 0 416.992 4552.734 L 416.992 799.805 Q 416.992 601.563 386.23 499.023 Q 355.469 396.484 177.734 382.813 L 0 369.141 L 0 109.375 L 998.047 0 Z" 
          />
        </g>
      </svg>
    </div>
  );
};

export default Logo;
